{"hash":"0692f975cc192cb102c62422c6edcd782c129a97","data":{"doc":{"title":"AWS Elastic Eeanstalk Development","path":"/blogs/aws-elastic-eeanstalk-development/","slug":"aws-elastic-eeanstalk-development","date":"15. September 2018","timeToRead":3,"content":"<h2 id=\"eb-cli-installer\"><a href=\"#eb-cli-installer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>EB-CLI Installer</h2>\n<h3 id=\"11-prerequisites\"><a href=\"#11-prerequisites\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1.1. Prerequisites</h3>\n<p>If you don't have Git, install it from <a href=\"https://git-scm.com/downloads\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Git Downloads</a>.</p>\n<p>Python, which the EBCLI Installer depends on, requires the following prerequisites for each operating system.</p>\n<ul>\n<li>\n<p><strong>Linux</strong></p>\n<ul>\n<li>\n<p><strong>Ubuntu and Debian</strong></p>\n<pre class=\"language-shell\">build-essential zlib1g-dev libssl-dev libncurses-dev libffi-dev libsqlite3-dev libreadline-dev libbz2-dev</pre>\n</li>\n<li>\n<p><strong>Amazon Linux and Fedora</strong></p>\n<pre class=\"language-shell\"><span class=\"token string\">\"Development Tools\"</span> zlib-devel openssl-devel ncurses-devel libffi-devel sqlite-devel.x86_64 readline-devel.x86_64 bzip2-devel.x86_64</pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>macOS</strong></p>\n<pre class=\"language-shell\">Xcode openssl zlib readline</pre>\n</li>\n</ul>\n<hr>\n<h3 id=\"2-use\"><a href=\"#2-use\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2. Use</h3>\n<hr>\n<h4 id=\"21-clone-this-repository\"><a href=\"#21-clone-this-repository\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2.1. Clone this repository</h4>\n<p>Use the following:</p>\n<pre class=\"language-shell\"><span class=\"token function\">git</span> clone https://github.com/aws/aws-elastic-beanstalk-cli-setup.git</pre>\n<h4 id=\"22-installupgrade-the-eb-cli\"><a href=\"#22-installupgrade-the-eb-cli\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2.2. Install/Upgrade the EB CLI</h4>\n<p>On <strong>Bash</strong> and <strong>Zsh</strong> on macOS and Linux:</p>\n<pre class=\"language-shell\">./aws-elastic-beanstalk-cli-setup/scripts/bundled_installer</pre>\n<p>In <strong>PowerShell</strong> or in a <strong>Command Prompt</strong> window:</p>\n<pre class=\"language-ps1\">.\\aws-elastic-beanstalk-cli-setup\\scripts\\bundled_installer</pre>\n<h4 id=\"23-troubleshooting\"><a href=\"#23-troubleshooting\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2.3. Troubleshooting</h4>\n<ul>\n<li>\n<p><strong>Linux</strong></p>\n<p>  Most installation problems have been due to missing libraries such as <code class=\"language-text\">OpenSSL</code>.</p>\n<ul>\n<li>\n<p>On <strong>Ubuntu and Debian</strong>, run the following command to install dependencies.</p>\n<pre class=\"language-shell\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token punctuation\">\\</span>\n    build-essential zlib1g-dev libssl-dev libncurses-dev <span class=\"token punctuation\">\\</span>\n    libffi-dev libsqlite3-dev libreadline-dev libbz2-dev</pre>\n</li>\n<li>\n<p>On <strong>Amazon Linux and Fedora</strong>, run the following command to install dependencies.</p>\n<pre class=\"language-shell\">yum group <span class=\"token function\">install</span> <span class=\"token string\">\"Development Tools\"</span>\nyum <span class=\"token function\">install</span> <span class=\"token punctuation\">\\</span>\n    zlib-devel openssl-devel ncurses-devel libffi-devel <span class=\"token punctuation\">\\</span>\n    sqlite-devel.x86_64 readline-devel.x86_64 bzip2-devel.x86_64</pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>macOS</strong></p>\n<p>Most installation problems on macOS are related to loading and linking OpenSSL and zlib. The following command installs the necessary packages and tells the Python installer where to find them:</p>\n<pre class=\"language-text\">brew install zlib openssl readline\nCFLAGS=&quot;-I$(brew --prefix openssl)/include -I$(brew --prefix readline)/include -I$(xcrun --show-sdk-path)/usr/include&quot; LDFLAGS=&quot;-L$(brew --prefix openssl)/lib -L$(brew --prefix readline)/lib -L$(brew --prefix zlib)/lib&quot;</pre>\n<p>  Run <code class=\"language-text\">brew info</code> to get the latest environment variable export suggestions, such as <code class=\"language-text\">brew info zlib</code></p>\n</li>\n<li>\n<p><strong>Windows</strong></p>\n<ul>\n<li>\n<p>In PowerShell, if you encounter an error with the message \"execution of scripts is disabled on this system\", set the <a href=\"https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.security/set-executionpolicy?view=powershell-6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">execution policy</a> to <code class=\"language-text\">&quot;RemoteSigned&quot;</code> and then rerun <code class=\"language-text\">bundled_installer</code>.</p>\n<pre class=\"language-ps1\">Set-ExecutionPolicy RemoteSigned</pre>\n</li>\n<li>\n<p>If you encounter an error with the message \"No module named 'virtualenv'\", use the following commands to install <code class=\"language-text\">virtualenv</code> and the EB CLI:</p>\n<pre class=\"language-ps1\">pip uninstall -y virtualenv\npip install virtualenv\npython .\\aws-elastic-beanstalk-cli-setup\\scripts\\ebcli_installer.py</pre>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"eb-development\"><a href=\"#eb-development\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>EB Development</h2>\n<h3 id=\"clone-source-code\"><a href=\"#clone-source-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Clone Source code</h3>\n<pre class=\"language-text\">$ git clone</pre>\n<h3 id=\"init-eb\"><a href=\"#init-eb\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Init EB</h3>\n<pre class=\"language-bash\">$ eb init\n\nSelect a default region\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> us-east-1 <span class=\"token builtin class-name\">:</span> US East <span class=\"token punctuation\">(</span>N. Virginia<span class=\"token punctuation\">)</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> us-west-1 <span class=\"token builtin class-name\">:</span> US West <span class=\"token punctuation\">(</span>N. California<span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> us-west-2 <span class=\"token builtin class-name\">:</span> US West <span class=\"token punctuation\">(</span>Oregon<span class=\"token punctuation\">)</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">)</span> eu-west-1 <span class=\"token builtin class-name\">:</span> EU <span class=\"token punctuation\">(</span>Ireland<span class=\"token punctuation\">)</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">)</span> eu-central-1 <span class=\"token builtin class-name\">:</span> EU <span class=\"token punctuation\">(</span>Frankfurt<span class=\"token punctuation\">)</span>\n<span class=\"token number\">6</span><span class=\"token punctuation\">)</span> ap-south-1 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Mumbai<span class=\"token punctuation\">)</span>\n<span class=\"token number\">7</span><span class=\"token punctuation\">)</span> ap-southeast-1 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Singapore<span class=\"token punctuation\">)</span>\n<span class=\"token number\">8</span><span class=\"token punctuation\">)</span> ap-southeast-2 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Sydney<span class=\"token punctuation\">)</span>\n<span class=\"token number\">9</span><span class=\"token punctuation\">)</span> ap-northeast-1 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Tokyo<span class=\"token punctuation\">)</span>\n<span class=\"token number\">10</span><span class=\"token punctuation\">)</span> ap-northeast-2 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Seoul<span class=\"token punctuation\">)</span>\n<span class=\"token number\">11</span><span class=\"token punctuation\">)</span> sa-east-1 <span class=\"token builtin class-name\">:</span> South America <span class=\"token punctuation\">(</span>Sao Paulo<span class=\"token punctuation\">)</span>\n<span class=\"token number\">12</span><span class=\"token punctuation\">)</span> cn-north-1 <span class=\"token builtin class-name\">:</span> China <span class=\"token punctuation\">(</span>Beijing<span class=\"token punctuation\">)</span>\n<span class=\"token number\">13</span><span class=\"token punctuation\">)</span> cn-northwest-1 <span class=\"token builtin class-name\">:</span> China <span class=\"token punctuation\">(</span>Ningxia<span class=\"token punctuation\">)</span>\n<span class=\"token number\">14</span><span class=\"token punctuation\">)</span> us-east-2 <span class=\"token builtin class-name\">:</span> US East <span class=\"token punctuation\">(</span>Ohio<span class=\"token punctuation\">)</span>\n<span class=\"token number\">15</span><span class=\"token punctuation\">)</span> ca-central-1 <span class=\"token builtin class-name\">:</span> Canada <span class=\"token punctuation\">(</span>Central<span class=\"token punctuation\">)</span>\n<span class=\"token number\">16</span><span class=\"token punctuation\">)</span> eu-west-2 <span class=\"token builtin class-name\">:</span> EU <span class=\"token punctuation\">(</span>London<span class=\"token punctuation\">)</span>\n<span class=\"token number\">17</span><span class=\"token punctuation\">)</span> eu-west-3 <span class=\"token builtin class-name\">:</span> EU <span class=\"token punctuation\">(</span>Paris<span class=\"token punctuation\">)</span>\n<span class=\"token number\">18</span><span class=\"token punctuation\">)</span> eu-north-1 <span class=\"token builtin class-name\">:</span> EU <span class=\"token punctuation\">(</span>Stockholm<span class=\"token punctuation\">)</span>\n<span class=\"token number\">19</span><span class=\"token punctuation\">)</span> ap-east-1 <span class=\"token builtin class-name\">:</span> Asia Pacific <span class=\"token punctuation\">(</span>Hong Kong<span class=\"token punctuation\">)</span>\n<span class=\"token number\">20</span><span class=\"token punctuation\">)</span> me-south-1 <span class=\"token builtin class-name\">:</span> Middle East <span class=\"token punctuation\">(</span>Bahrain<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">9</span>\n\nSelect an application to use\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> Bukkens-Sync\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span> Create new Application <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">1</span>\nDo you wish to <span class=\"token builtin class-name\">continue</span> with CodeCommit? <span class=\"token punctuation\">(</span>y/N<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>default is n<span class=\"token punctuation\">)</span>: n</pre>\n<h3 id=\"deploy-code\"><a href=\"#deploy-code\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Deploy code</h3>\n<h4 id=\"commit-all-code-first\"><a href=\"#commit-all-code-first\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Commit all code first</h4>\n<h4 id=\"runing-deploy-command\"><a href=\"#runing-deploy-command\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Runing deploy command</h4>\n<pre class=\"language-bash\">$ eb deploy\nCreating application version archive <span class=\"token string\">\"app-ee24-200318_102026\"</span><span class=\"token builtin class-name\">.</span>\nUploading Bukkens-Sync/app-ee24-200318_102026.zip to S3. This may take a while.\nUpload Complete.\n<span class=\"token number\">2020</span>-03-18 03:20:27    INFO    Environment update is starting.\n<span class=\"token number\">2020</span>-03-18 03:21:06    INFO    Deploying new version to instance<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>.\n<span class=\"token number\">2020</span>-03-18 03:21:27    INFO    Successfully loaded <span class=\"token number\">1</span> scheduled tasks from cron.yaml.\n<span class=\"token number\">2020</span>-03-18 03:22:04    INFO    New application version was deployed to running EC2 instances.\n<span class=\"token number\">2020</span>-03-18 03:22:05    INFO    Environment update completed successfully.</pre>\n","headings":[{"value":"EB-CLI Installer","anchor":"#eb-cli-installer"},{"value":"1.1. Prerequisites","anchor":"#11-prerequisites"},{"value":"2. Use","anchor":"#2-use"},{"value":"2.1. Clone this repository","anchor":"#21-clone-this-repository"},{"value":"2.2. Install/Upgrade the EB CLI","anchor":"#22-installupgrade-the-eb-cli"},{"value":"2.3. Troubleshooting","anchor":"#23-troubleshooting"},{"value":"EB Development","anchor":"#eb-development"},{"value":"Clone Source code","anchor":"#clone-source-code"},{"value":"Init EB","anchor":"#init-eb"},{"value":"Deploy code","anchor":"#deploy-code"},{"value":"Commit all code first","anchor":"#commit-all-code-first"},{"value":"Runing deploy command","anchor":"#runing-deploy-command"}]}},"context":{}}